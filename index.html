  <!DOCTYPE html>
  <html lang="ja">
  <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>BtoBセミナー企画書作成アプリ</title>
      <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
      <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
      <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
      <style>
          body { font-family: Arial, sans-serif; margin: 0; background: #f5f5f5; }
          .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 2rem; text-align: center; }
          .container { max-width: 800px; margin: 2rem auto; padding: 2rem; background: white; border-radius: 12px; }
          .btn { background: #667eea; color: white; padding: 1rem 2rem; border: none; border-radius: 8px; cursor: pointer; }
      </style>
  </head>
  <body>
      <div id="root"></div>

  <script type="text/babel">
      const SeminarApp = React.memo(() => {
          // 各フィールドを個別に管理
          const [title, setTitle] = React.useState('');
          const [theme, setTheme] = React.useState('');
          const [objective, setObjective] = React.useState('');
          const [targetAudience, setTargetAudience] = React.useState('');
          const [date, setDate] = React.useState('');
          const [time, setTime] = React.useState('');

          const [activeTab, setActiveTab] = React.useState('basic');

          // 入力ハンドラーをuseCallbackで最適化
          const handleTitleChange = React.useCallback((e) => setTitle(e.target.value), []);
          const handleThemeChange = React.useCallback((e) => setTheme(e.target.value), []);
          const handleObjectiveChange = React.useCallback((e) => setObjective(e.target.value), []);
          const handleTargetAudienceChange = React.useCallback((e) => setTargetAudience(e.target.value), []);
          const handleDateChange = React.useCallback((e) => setDate(e.target.value), []);
          const handleTimeChange = React.useCallback((e) => setTime(e.target.value), []);

          // 共通スタイル
          const inputStyle = React.useMemo(() => ({
              width: '100%',
              padding: '12px',
              fontSize: '16px',
              border: '2px solid #ddd',
              borderRadius: '6px',
              outline: 'none',
              fontFamily: 'inherit'
          }), []);

          const labelStyle = React.useMemo(() => ({
              display: 'block',
              marginBottom: '0.5rem',
              fontWeight: 'bold',
              color: '#333'
          }), []);

          const formGroupStyle = React.useMemo(() => ({
              marginBottom: '1.5rem'
          }), []);

          const BasicInfoTab = React.useMemo(() => (
              <div>
                  <h3 style={{ marginBottom: '2rem', color: '#333' }}>基本情報</h3>

                  <div style={formGroupStyle}>
                      <label style={labelStyle}>セミナータイトル</label>
                      <input 
                          type="text" 
                          value={title}
                          onChange={handleTitleChange}
                          style={inputStyle}
                          placeholder="例：新規顧客獲得セミナー"
                          autoComplete="off"
                      />
                      <div style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666' }}>
                          文字数: {title.length}
                      </div>
                  </div>

                  <div style={formGroupStyle}>
                      <label style={labelStyle}>テーマ・分野</label>
                      <input 
                          type="text" 
                          value={theme}
                          onChange={handleThemeChange}
                          style={inputStyle}
                          placeholder="例：デジタルマーケティング"
                          autoComplete="off"
                      />
                      <div style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666' }}>
                          文字数: {theme.length}
                      </div>
                  </div>

                  <div style={formGroupStyle}>
                      <label style={labelStyle}>目的・ゴール</label>
                      <textarea 
                          value={objective}
                          onChange={handleObjectiveChange}
                          style={{
                              ...inputStyle,
                              minHeight: '120px',
                              resize: 'vertical'
                          }}
                          placeholder="セミナーの目的や達成したいゴールを記載してください"
                      />
                      <div style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666' }}>
                          文字数: {objective.length}
                      </div>
                  </div>

                  <div style={formGroupStyle}>
                      <label style={labelStyle}>ターゲット参加者</label>
                      <textarea 
                          value={targetAudience}
                          onChange={handleTargetAudienceChange}
                          style={{
                              ...inputStyle,
                              minHeight: '100px',
                              resize: 'vertical'
                          }}
                          placeholder="想定する参加者の属性を記載してください"
                      />
                      <div style={{ marginTop: '0.5rem', fontSize: '0.9rem', color: '#666' }}>
                          文字数: {targetAudience.length}
                      </div>
                  </div>

                  <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '1rem' }}>
                      <div style={formGroupStyle}>
                          <label style={labelStyle}>開催日</label>
                          <input 
                              type="date" 
                              value={date}
                              onChange={handleDateChange}
                              style={inputStyle}
                          />
                      </div>
                      <div style={formGroupStyle}>
                          <label style={labelStyle}>開催時間</label>
                          <input 
                              type="time" 
                              value={time}
                              onChange={handleTimeChange}
                              style={inputStyle}
                          />
                      </div>
                  </div>

                  <div style={{ 
                      marginTop: '2rem', 
                      padding: '1rem', 
                      backgroundColor: '#e8f4fd', 
                      borderRadius: '6px' 
                  }}>
                      <h4>リアルタイム確認</h4>
                      <p><strong>タイトル:</strong> {title}</p>
                      <p><strong>テーマ:</strong> {theme}</p>
                      <p><strong>日時:</strong> {date} {time}</p>
                  </div>
              </div>
          ), [title, theme, objective, targetAudience, date, time, handleTitleChange, handleThemeChange, handleObjectiveChange,
  handleTargetAudienceChange, handleDateChange, handleTimeChange, inputStyle, labelStyle, formGroupStyle]);

          const PreviewTab = React.useMemo(() => (
              <div>
                  <div style={{ textAlign: 'center', marginBottom: '2rem' }}>
                      <h1 style={{ fontSize: '2rem', color: '#333' }}>セミナー企画書</h1>
                      <h2 style={{ fontSize: '1.5rem', color: '#667eea' }}>
                          {title || 'タイトル未設定'}
                      </h2>
                  </div>

                  <div style={{ padding: '1.5rem', backgroundColor: '#f8f9fa', borderRadius: '8px' }}>
                      <h3>基本情報</h3>
                      <p><strong>テーマ：</strong> {theme || '未設定'}</p>
                      <p><strong>開催日時：</strong> {date || '未設定'} {time || ''}</p>
                      <p><strong>目的：</strong> {objective || '未設定'}</p>
                      <p><strong>ターゲット：</strong> {targetAudience || '未設定'}</p>
                  </div>

                  <div style={{ textAlign: 'center', marginTop: '2rem' }}>
                      <button 
                          className="btn"
                          onClick={() => {
                              const data = {
                                  title, theme, objective, targetAudience, date, time
                              };
                              const jsonStr = JSON.stringify(data, null, 2);
                              const blob = new Blob([jsonStr], {type: 'application/json'});
                              const url = URL.createObjectURL(blob);
                              const a = document.createElement('a');
                              a.href = url;
                              a.download = 'seminar-plan.json';
                              a.click();
                          }}
                          style={{ marginRight: '1rem' }}
                      >
                          JSON出力
                      </button>
                      <button 
                          className="btn"
                          onClick={() => window.print()}
                      >
                          PDF出力
                      </button>
                  </div>
              </div>
          ), [title, theme, objective, targetAudience, date, time]);

          return (
              <div>
                  <div className="header">
                      <h1>BtoBセミナー企画書作成アプリ</h1>
                      <p>効果的なセミナー企画書を簡単に作成</p>
                  </div>

                  <div className="container">
                      <div style={{ display: 'flex', marginBottom: '2rem', borderBottom: '2px solid #e1e5e9' }}>
                          <button 
                              onClick={() => setActiveTab('basic')}
                              style={{
                                  padding: '1rem 2rem',
                                  border: 'none',
                                  background: activeTab === 'basic' ? '#667eea' : '#f8f9fa',
                                  color: activeTab === 'basic' ? 'white' : '#333',
                                  cursor: 'pointer',
                                  borderRadius: '8px 8px 0 0',
                                  fontSize: '1rem'
                              }}
                          >
                              基本情報
                          </button>
                          <button 
                              onClick={() => setActiveTab('preview')}
                              style={{
                                  padding: '1rem 2rem',
                                  border: 'none',
                                  background: activeTab === 'preview' ? '#667eea' : '#f8f9fa',
                                  color: activeTab === 'preview' ? 'white' : '#333',
                                  cursor: 'pointer',
                                  borderRadius: '8px 8px 0 0',
                                  fontSize: '1rem'
                              }}
                          >
                              プレビュー
                          </button>
                      </div>

                      {activeTab === 'basic' && BasicInfoTab}
                      {activeTab === 'preview' && PreviewTab}
                  </div>
              </div>
          );
      });

      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(<SeminarApp />);
  </script>
  </body>
  </html>
